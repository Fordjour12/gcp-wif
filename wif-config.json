{
	"version": "1.0",
	"project": {
		"id": "my-gcp-project",
		"region": "us-central1"
	},
	"repository": {
		"owner": "myorganization",
		"name": "my-app",
		"branches": [
			"main",
			"develop"
		],
		"pull_request": true
	},
	"service_account": {
		"name": "github-myorg-myapp",
		"display_name": "GitHub Actions SA for myorganization/my-app",
		"description": "Service account for GitHub Actions Workload Identity Federation",
		"roles": [
			"roles/run.admin",
			"roles/storage.admin",
			"roles/artifactregistry.admin"
		],
		"create_new": true
	},
	"workload_identity": {
		"pool_name": "GitHub Pool for myorganization/my-app",
		"pool_id": "gh-myorg-myapp-pool",
		"provider_name": "GitHub Provider for myorganization/my-app",
		"provider_id": "gh-myorg-myapp-provider",
		"attribute_mapping": {
			"google.subject": "assertion.sub",
			"attribute.actor": "assertion.actor",
			"attribute.repository": "assertion.repository",
			"attribute.repository_owner": "assertion.repository_owner"
		},
		"conditions": [
			"assertion.repository=='myorganization/my-app'"
		]
	},
	"cloud_run": {
		"service_name": "my-app",
		"region": "us-central1",
		"registry": "us-central1-docker.pkg.dev/my-gcp-project/cloud-run-source-deploy",
		"port": 8080,
		"env_vars": {
			"NODE_ENV": "production",
			"LOG_LEVEL": "info"
		},
		"cpu_limit": "1",
		"memory_limit": "1Gi",
		"max_instances": 100,
		"min_instances": 0
	},
	"workflow": {
		"name": "Deploy to Cloud Run",
		"filename": "deploy.yml",
		"path": ".github/workflows",
		"triggers": [
			"push",
			"pull_request"
		],
		"environment": "production",
		"docker_registry": "us-central1-docker.pkg.dev",
		"docker_image": "my-gcp-project/my-app/main"
	},
	"advanced": {
		"dry_run": false,
		"skip_validation": false,
		"force_update": false,
		"backup_existing": true,
		"cleanup_on_failure": true,
		"enable_apis": [
			"run.googleapis.com",
			"artifactregistry.googleapis.com",
			"iamcredentials.googleapis.com"
		],
		"timeout": "30m"
	}
}